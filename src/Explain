В массиве на 5 позиций перерабатываем входной массив.
В позиции 1 число единиц в исходном массиве.
В позиции 2 число двоек в исходном массиве.
В позиции 3 число троев в исходном массиве.
В позиции 4 число четверок в исходном массиве.

Потом к количеству 4 прибавляем количество 3
Если 3 больше 1 то количество единиц 0
    иначе количество единиц = количество 1 - количество 3
Количество 2 это половина количество 1 + хвост 1

Результат - сумма 3 и 4 + совмещение 1 и 2